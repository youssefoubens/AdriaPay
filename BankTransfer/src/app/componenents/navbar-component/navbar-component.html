<!-- src/app/componenents/dashboard-component/dashboard.component.html -->
<div class="dashboard-wrapper">
  <!-- Navbar -->
  <app-navbar></app-navbar>

  <div class="dashboard-container">
    <!-- Main Content -->
    <main class="dashboard-main">
      <div class="content-wrapper">
        <!-- Page Header -->
        <div class="page-header">
          <h1 class="page-title">Dashboard</h1>
          <div class="action-buttons">
            <button (click)="navigateToBeneficiaries()" class="btn btn-primary">
              <span class="material-symbols-outlined">group</span>
              <span class="btn-text">Manage Beneficiaries</span>
            </button>
            <button (click)="navigateToNewTransfer()" class="btn btn-success">
              <span class="material-symbols-outlined">paid</span>
              <span class="btn-text">New Transfer</span>
            </button>
          </div>
        </div>

        <!-- Error Message -->
        <div *ngIf="error" class="error-message">
          <span class="material-symbols-outlined">error</span>
          <p>{{ error }}</p>
        </div>

        <!-- Loading State -->
        <div *ngIf="loading" class="loading-container">
          <div class="loading-spinner"></div>
          <p>Loading dashboard data...</p>
        </div>

        <!-- Stats Cards -->
        <div *ngIf="!loading" class="stats-grid">
          <div class="stats-card">
            <div class="stat-icon-wrapper">
              <div class="stat-icon bg-primary">
                <span class="material-symbols-outlined">groups</span>
              </div>
              <p class="stat-label">Total Beneficiaries</p>
            </div>
            <p class="stat-value">{{ stats.totalBeneficiaries }}</p>
          </div>

          <div class="stats-card">
            <div class="stat-icon-wrapper">
              <div class="stat-icon bg-primary">
                <span class="material-symbols-outlined">swap_horiz</span>
              </div>
              <p class="stat-label">Total Transfers</p>
            </div>
            <p class="stat-value">{{ stats.totalTransfers }}</p>
          </div>

          <div class="stats-card">
            <div class="stat-icon-wrapper">
              <div class="stat-icon bg-primary">
                <span class="material-symbols-outlined">history</span>
              </div>
              <p class="stat-label">Recent Transactions</p>
            </div>
            <p class="stat-value">{{ stats.recentTransactions }}</p>
          </div>
        </div>

        <!-- Recent Transactions -->
        <div class="transactions-section">
          <h2 class="section-title">Recent Transactions</h2>

          <div class="table-wrapper">
            <table class="transactions-table">
              <thead>
              <tr>
                <th>Date</th>
                <th>Beneficiary</th>
                <th>Amount</th>
                <th>Status</th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let transaction of recentTransactions">
                <td class="date-cell">{{ transaction.date | date }}</td>
                <td class="beneficiary-cell">{{ transaction.beneficiaryName }}</td>
                <td class="amount-cell">{{ formatAmount(transaction.amount) }}</td>
                <td class="status-cell">
                    <span [ngClass]="getStatusClass(transaction.status)" class="status-badge">
                      {{ transaction.status }}
                    </span>
                </td>
              </tr>
              <tr *ngIf="recentTransactions.length === 0 && !loading" class="empty-row">
                <td colspan="4">
                  <div class="empty-state">
                    <span class="material-symbols-outlined">inbox</span>
                    <p>No recent transactions found</p>
                  </div>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Floating Chat Button -->
  <button [routerLink]="['/chatbot']" class="chat-button" data-tooltip="Chat with us">
    <span class="material-symbols-outlined">chat</span>
  </button>
</div>
